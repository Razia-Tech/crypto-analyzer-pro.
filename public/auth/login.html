<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Login â€” CryptoAnalyzerPro</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
</head>
<body>
  <nav class="nav">
    <div class="nav-inner container">
      <div class="brand">
        <img src="public/assets/logos/CryptoAnalyzerPro-logo.png" alt="logo" class="brand-logo">
        <div class="brand-name">CryptoAnalyzerPro</div>
      </div>
      <div class="menu">
        <a href="public/index.html">Home</a>
        <a href="./auth/register.html" class="menu-cta">Daftar</a>
      </div>
    </div>
  </nav>

  <main class="section">
    <div class="section-inner container">
      <h2>Masuk ke Akun</h2>

      <div class="feature-card" style="max-width:520px;margin-top:18px">
        <!-- Standard Login -->
        <form id="login-form">
          <label class="small">Email</label>
          <input id="login-email" type="email" required />
          <label class="small">Password</label>
          <input id="login-password" type="password" required />
          <div style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap">
            <button class="btn btn-primary" type="submit">Login</button>
            <a class="btn btn-light" href="register.html">Daftar</a>
            <a class="btn btn-light" href="forgot-password.html">Lupa Password</a>
          </div>
        </form>

        <hr style="margin:18px 0;border:none;border-top:1px solid rgba(255,255,255,0.03)" />

        <!-- Magic Link -->
        <form id="magic-form">
          <label class="small">Login tanpa password (Magic Link)</label>
          <input id="magic-email" type="email" placeholder="Email untuk magic link" required />
          <button class="btn btn-light" type="submit" style="margin-top:8px">Kirim Magic Link</button>
        </form>

        <div style="margin-top:12px">
          <button class="btn btn-light" id="google-login">Masuk dengan Google (aktifkan di Supabase)</button>
        </div>
      </div>
    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner container">
      <div>
        <img src="public/assets/logos/CryptoAnalyzerPro-logo.png" alt="logo" class="footer-logo">
        <div class="muted">Dev Razia-Tech (Otong Hamandong)</div>
      </div>
    </div>
  </footer>

  <script src="auth.js"></script>
  <script>
    // tambahan safety: mencegah double Chart lib jika ada
    // (tidak ada Chart.js di halaman login, tapi ini aman)
    // Bind google button to auth.js function if present
    document.getElementById('google-login')?.addEventListener('click', () => {
      if(typeof loginGoogle === 'function') loginGoogle();
      else alert('Google auth belum dikonfigurasi di auth.js / Supabase.');
    });
  </script>
</body>
</html>
